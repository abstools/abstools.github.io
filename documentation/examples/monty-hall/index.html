<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.73.0" />
    <meta name="description" content="Modeling simple behavior, getting complex results.">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>The Monty Hall Problem :: The ABS Modeling Language</title>

    
    <link href="/css/nucleus.css?1592950207" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1592950207" rel="stylesheet">
    <link href="/css/hybrid.css?1592950207" rel="stylesheet">
    <link href="/css/featherlight.min.css?1592950207" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1592950207" rel="stylesheet">
    <link href="/css/auto-complete.css?1592950207" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1592950207" rel="stylesheet">
    <link href="/css/theme.css?1592950207" rel="stylesheet">
    <link href="/css/hugo-theme.css?1592950207" rel="stylesheet">
    
    <link href="/css/theme-abs.css?1592950207" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1592950207"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/documentation/examples/monty-hall/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://abs-models.org/" >
  <img src='/images/ABS_logo_colors.png' width="80%">
  </img>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1592950207"></script>
<script type="text/javascript" src="/js/auto-complete.js?1592950207"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/abs-models.org\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1592950207"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/overview/" title="Overview" class="dd-item 
        
        
        
        ">
      <a href="/overview/">
          Overview
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/getting_started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/getting_started/local-install/" title="Installing Command-Line Tools" class="dd-item ">
        <a href="/getting_started/local-install/">
        Installing Command-Line Tools
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/docker/" title="Running a Browser-Based IDE" class="dd-item ">
        <a href="/getting_started/docker/">
        Running a Browser-Based IDE
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/editor-support/" title="Installing Editor Support" class="dd-item ">
        <a href="/getting_started/editor-support/">
        Installing Editor Support
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/documentation/" title="Documentation" class="dd-item 
        parent
        
        
        ">
      <a href="/documentation/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/documentation/examples/" title="Examples" class="dd-item 
        parent
        
        
        ">
      <a href="/documentation/examples/">
          Examples
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/documentation/examples/monty-hall/" title="The Monty Hall Problem" class="dd-item active">
        <a href="/documentation/examples/monty-hall/">
        The Monty Hall Problem
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/documentation/examples/time-and-date/" title="Modeling and Visualizing Calendar Time" class="dd-item ">
        <a href="/documentation/examples/time-and-date/">
        Modeling and Visualizing Calendar Time
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/documentation/tutorials/" title="Tutorials" class="dd-item 
        
        
        
        ">
      <a href="/documentation/tutorials/">
          Tutorials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/documentation/tutorials/language-tutorial/" title="Language Tutorial" class="dd-item ">
        <a href="/documentation/tutorials/language-tutorial/">
        Language Tutorial
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/documentation/tutorials/resources/" title="Resource Modeling Tutorial" class="dd-item ">
        <a href="/documentation/tutorials/resources/">
        Resource Modeling Tutorial
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/documentation/tutorials/costabs/" title="Resource Analysis with CostABS" class="dd-item ">
        <a href="/documentation/tutorials/costabs/">
        Resource Analysis with CostABS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/documentation/tutorials/mhp/" title="May-Happen-in-Parallel Analysis" class="dd-item ">
        <a href="/documentation/tutorials/mhp/">
        May-Happen-in-Parallel Analysis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/documentation/tutorials/sra/" title="Resource Analysis with SRA" class="dd-item ">
        <a href="/documentation/tutorials/sra/">
        Resource Analysis with SRA
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/publications/" title="Publications and Workshops" class="dd-item 
        
        
        
        ">
      <a href="/publications/">
          Publications and Workshops
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contact/" title="Contact" class="dd-item 
        
        
        
        ">
      <a href="/contact/">
          Contact
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/acknowledgments/" title="Acknowledgments" class="dd-item 
        
        
        
        ">
      <a href="/acknowledgments/">
          Acknowledgments
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/laboratory/" title="The Collaboratory" class="dd-item 
        
        
        
        ">
      <a href="/laboratory/">
          The Collaboratory
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <ul class="topics"><li class="dd-item" title="Language Manual"><a href="/manual/">Language Manual</a></li></ul>
<br/>
<p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>The ABS Language</a> > <a href='/documentation/'>Documentation</a> > <a href='/documentation/examples/'>Examples</a> > The Monty Hall Problem
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#the-monty-hall-problem">The Monty Hall Problem</a></li>
    <li><a href="#modeling-the-participants">Modeling the Participants</a></li>
    <li><a href="#the-host">The Host</a></li>
    <li><a href="#the-contestants">The Contestants</a></li>
    <li><a href="#running-the-example">Running the Example</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              The Monty Hall Problem
            </h1>
          

        


<p>One reason to model systems is to gain insight into and predict complex
behavior.  Ideally, the components of the system are reasonably easy to
understand in isolation, while assembling them together results in surprising
behavior that can provide insight or support for a theory about the whole system.</p>
<h2 id="the-monty-hall-problem">The Monty Hall Problem</h2>
<p>The Monty Hall problem (<a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">Monty
Hall problem -
Wikipedia</a>) states:</p>
<blockquote>
<p>Suppose you&rsquo;re on a game show, and you&rsquo;re given the choice of three
doors: Behind one door is a car; behind the others, goats.  You pick
a door, say No. 1, and the host, who knows what&rsquo;s behind the doors,
opens another door, say No. 3, which has a goat.  He then says to
you, &ldquo;Do you want to pick door No. 2?&rdquo;  Is it to your advantage to
switch your choice?</p>
</blockquote>
<p>The “intuitive” assumption from many people would be that changing one’s guess
cannot make a difference to the outcome.  But is this true?  Let us model this
system and find out!</p>
<p>The code for this example can be found at <a href="https://github.com/abstools/absexamples/tree/master/collaboratory/examples/monty-hall/">https://github.com/abstools/absexamples/tree/master/collaboratory/examples/monty-hall/</a></p>
<h2 id="modeling-the-participants">Modeling the Participants</h2>
<p>Each round in the game is played between a participant and a host.  First the
guest submits an initial guess to the host.  The host answers by ruling out
one of the two other doors as being the correct one.  Then, the participant
decides on which door to open according to their strategy: either decide to
open the original door, or switching to the other closed door.  The following sequence diagram illustrates the interaction:</p>

<div class="mermaid" align="center">
sequenceDiagram
    participant Host
    participant Contestant
    
    Contestant->>Host: guess(door1)
    Host->>Contestant: goat_door
    Contestant->>Host: open(door2)
    Note right of Contestant: door2 == door1<br/>or door2 != door1<br/>depending on strat
    Host->>Contestant: prize
    Note right of Contestant: prize is Car or Goat
</div>

<h2 id="the-host">The Host</h2>
<p>For simplicity, we model the three doors as the numbers <code>0..2</code>.  The host has
two methods: <code>guess</code>, which takes a door and returns another door that is
definitely the wrong answer (the host is trustworthy).  The method <code>open</code> takes a door and returns its content: <code>Car</code> or <code>Goat</code>.</p>
<pre><code class="language-abs" data-lang="abs">data Prize = Car | Goat;

interface Host {
    Int guess(Int door_guess);
    Prize open(Int door);
}

class Host implements Host {
    Int winning_door = random(3); // 0..2
    List&lt;Int&gt; losing_doors = without(list[0, 1, 2], winning_door);
    Int guess(Int door_guess) {
        return (when door_guess == winning_door
                then nth(losing_doors, random(2))
                else head(without(losing_doors, door_guess)));
    }
    Prize open(Int door) {
        return when door == winning_door then Car else Goat;
    }
}
</code></pre><h2 id="the-contestants">The Contestants</h2>
<p>The Contestants “drive” the interaction.  The method <code>play</code> implements the
sequence of interactions shown above: the contestant picks a number, submits
it to the host, receives information about another door, and finally asks the
host to open the chosen door.  Each contestant keeps track of the number of
rounds and wins they have played.</p>
<p>The code below shows the contestant that switches their guess after shown the incorrect door; the non-switching contestant is similar except for one line.</p>
<pre><code class="language-abs" data-lang="abs">interface Contestant {
    Unit play(Host host);
    Unit printSummary();
}
class SwitchingContestant implements Contestant {
    Int nPlays = 0;
    Int nWins = 0;

    Unit play(Host host) {
        Int pick_door = random(3);
        Int goat_door = await host!guess(pick_door);
        Int final_door = head(without(without(list[0, 1, 2], pick_door), goat_door));
        Prize prize = await host!open(final_door);
        nPlays = nPlays + 1;
        if (prize == Car) nWins = nWins + 1;
    }
    Unit printSummary() {
        println(`I always switched, won $nWins$ out of $nPlays$ rounds.`);
    }
}
</code></pre><h2 id="running-the-example">Running the Example</h2>
<p>Since we want to investigate whether the results for switching and non-switching strategies are different, we create one participant of each type and let them play against 1000 hosts:</p>
<pre><code class="language-abs" data-lang="abs">{
    Int nRounds = 1000;
    Contestant swc = new SwitchingContestant();
    Contestant nsc = new NonSwitchingContestant();
    while (nRounds &gt; 0) {
        nRounds = nRounds - 1;
        Host host = new Host();
        await swc!play(host);
        await nsc!play(host);
    }
    swc.printSummary();
    nsc.printSummary();
}
</code></pre><p>Running the model produces output similar to the following:</p>
<pre><code>I always switched, won 628 out of 1000 rounds.
I never switched, won 333 out of 1000 rounds.
</code></pre>
<p>As we see, the intuitive expectation about the outcome is not supported by the
simulation!  The composition of simple components with understandable behavior
can indeed lead to observation of surprising behavior, which is the goal of
modeling a system.</p>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/documentation/examples/" title="Examples"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/documentation/examples/time-and-date/" title="Modeling and Visualizing Calendar Time" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1592950207"></script>
    <script src="/js/perfect-scrollbar.min.js?1592950207"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1592950207"></script>
    <script src="/js/jquery.sticky.js?1592950207"></script>
    <script src="/js/featherlight.min.js?1592950207"></script>
    <script src="/js/highlight.pack.js?1592950207"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1592950207"></script>
    <script src="/js/learn.js?1592950207"></script>
    <script src="/js/hugo-learn.js?1592950207"></script>

    <link href="/mermaid/mermaid.css?1592950207" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1592950207"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </body>
</html>

