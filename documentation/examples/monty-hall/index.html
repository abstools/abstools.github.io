<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.5.0+5797d81e8e09fdde6f433378d55f780e27684f56">
    <meta name="description" content="Modeling simple behavior, getting complex results.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="The Monty Hall Problem :: The ABS Modeling Language">
    <meta name="twitter:description" content="Modeling simple behavior, getting complex results.">
    <meta property="og:url" content="https://abs-models.org/documentation/examples/monty-hall/index.html">
    <meta property="og:site_name" content="The ABS Modeling Language">
    <meta property="og:title" content="The Monty Hall Problem :: The ABS Modeling Language">
    <meta property="og:description" content="Modeling simple behavior, getting complex results.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Documentation">
    <meta property="article:published_time" content="2020-06-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-06-23T00:00:00+00:00">
    <meta itemprop="name" content="The Monty Hall Problem :: The ABS Modeling Language">
    <meta itemprop="description" content="Modeling simple behavior, getting complex results.">
    <meta itemprop="datePublished" content="2020-06-23T00:00:00+00:00">
    <meta itemprop="dateModified" content="2020-06-23T00:00:00+00:00">
    <meta itemprop="wordCount" content="694">
    <title>The Monty Hall Problem :: The ABS Modeling Language</title>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1741788003" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1741788003" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1741788003" rel="stylesheet">
    <link href="/css/theme.min.css?1741788003" rel="stylesheet">
    <link href="/css/format-html.min.css?1741788003" rel="stylesheet" id="R-format-style">
    <link href="/css/auto-complete/auto-complete.min.css?1741788003" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1741788003" defer></script>
    <script src="/js/lunr/lunr.min.js?1741788003" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1741788003" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1741788003" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1741788003" defer></script>
    <script src="/js/search.min.js?1741788003" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/abs-models.org';
      window.relearn.contentLangs=['en'];
      window.relearn.index_js_url="/searchindex.en.js?1741788003";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // variant stuff
      window.relearn.themevariants = [ 'abs' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        var select = document.querySelector("#R-select-variant");
        if (select) {
          select.value = variant;
        }
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/documentation/examples/monty-hall/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#the-monty-hall-problem">The Monty Hall Problem</a></li>
    <li><a href="#modeling-the-participants">Modeling the Participants</a></li>
    <li><a href="#the-host">The Host</a></li>
    <li><a href="#the-contestants">The Contestants</a></li>
    <li><a href="#running-the-example">Running the Example</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">The ABS Language</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/documentation/index.html"><span itemprop="name">Documentation</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/documentation/examples/index.html"><span itemprop="name">Examples</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">The Monty Hall Problem</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/documentation/examples/index.html" title="Examples (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/documentation/examples/time-and-date/index.html" title="Modeling and Visualizing Calendar Time (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable post" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="the-monty-hall-problem">The Monty Hall Problem</h1>

<p>One reason to model systems is to gain insight into and predict complex
behavior.  Ideally, the components of the system are reasonably easy to
understand in isolation, while assembling them together results in surprising
behavior that can provide insight or support for a theory about the whole system.</p>
<h2 id="the-monty-hall-problem">The Monty Hall Problem</h2>
<p>The Monty Hall problem (<a href="https://en.wikipedia.org/wiki/Monty_Hall_problem" rel="external" target="_blank">Monty
Hall problem -
Wikipedia</a>) states:</p>
<blockquote>
<p>Suppose you&rsquo;re on a game show, and you&rsquo;re given the choice of three
doors: Behind one door is a car; behind the others, goats.  You pick
a door, say No. 1, and the host, who knows what&rsquo;s behind the doors,
opens another door, say No. 3, which has a goat.  He then says to
you, &ldquo;Do you want to pick door No. 2?&rdquo;  Is it to your advantage to
switch your choice?</p></blockquote>
<p>The ‚Äúintuitive‚Äù assumption from many people would be that changing one‚Äôs guess
cannot make a difference to the outcome.  But is this true?  Let us model this
system and find out!</p>
<p>The code for this example can be found at <a href="https://github.com/abstools/absexamples/tree/master/collaboratory/examples/monty-hall/" rel="external" target="_blank">https://github.com/abstools/absexamples/tree/master/collaboratory/examples/monty-hall/</a></p>
<h2 id="modeling-the-participants">Modeling the Participants</h2>
<p>Each round in the game is played between a participant and a host.  First the
guest submits an initial guess to the host.  The host answers by ruling out
one of the two other doors as being the correct one.  Then, the participant
decides on which door to open according to their strategy: either decide to
open the original door, or switching to the other closed door.  The following sequence diagram illustrates the interaction:</p>
<pre class="mermaid align-center ">
sequenceDiagram
    participant Host
    participant Contestant
    
    Contestant-&gt;&gt;Host: guess(door1)
    Host-&gt;&gt;Contestant: goat_door
    Contestant-&gt;&gt;Host: open(door2)
    Note right of Contestant: door2 == door1&lt;br/&gt;or door2 != door1&lt;br/&gt;depending on strat
    Host-&gt;&gt;Contestant: prize
    Note right of Contestant: prize is Car or Goat
</pre>
<h2 id="the-host">The Host</h2>
<p>For simplicity, we model the three doors as the numbers <code>0..2</code>.  The host has
two methods: <code>guess</code>, which takes a door and returns another door that is
definitely the wrong answer (the host is trustworthy).  The method <code>open</code> takes a door and returns its content: <code>Car</code> or <code>Goat</code>.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-abs" data-lang="abs">data Prize = Car | Goat;

interface Host {
    Int guess(Int door_guess);
    Prize open(Int door);
}

class Host implements Host {
    Int winning_door = random(3); // 0..2
    List&lt;Int&gt; losing_doors = without(list[0, 1, 2], winning_door);
    Int guess(Int door_guess) {
        return (when door_guess == winning_door
                then nth(losing_doors, random(2))
                else head(without(losing_doors, door_guess)));
    }
    Prize open(Int door) {
        return when door == winning_door then Car else Goat;
    }
}</code></pre></div>
<h2 id="the-contestants">The Contestants</h2>
<p>The Contestants ‚Äúdrive‚Äù the interaction.  The method <code>play</code> implements the
sequence of interactions shown above: the contestant picks a number, submits
it to the host, receives information about another door, and finally asks the
host to open the chosen door.  Each contestant keeps track of the number of
rounds and wins they have played.</p>
<p>The code below shows the contestant that switches their guess after shown the incorrect door; the non-switching contestant is similar except for one line.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-abs" data-lang="abs">interface Contestant {
    Unit play(Host host);
    Unit printSummary();
}
class SwitchingContestant implements Contestant {
    Int nPlays = 0;
    Int nWins = 0;

    Unit play(Host host) {
        Int pick_door = random(3);
        Int goat_door = await host!guess(pick_door);
        Int final_door = head(without(without(list[0, 1, 2], pick_door), goat_door));
        Prize prize = await host!open(final_door);
        nPlays = nPlays + 1;
        if (prize == Car) nWins = nWins + 1;
    }
    Unit printSummary() {
        println(`I always switched, won $nWins$ out of $nPlays$ rounds.`);
    }
}</code></pre></div>
<h2 id="running-the-example">Running the Example</h2>
<p>Since we want to investigate whether the results for switching and non-switching strategies are different, we create one participant of each type and let them play against 1000 hosts:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-abs" data-lang="abs">{
    Int nRounds = 1000;
    Contestant swc = new SwitchingContestant();
    Contestant nsc = new NonSwitchingContestant();
    while (nRounds &gt; 0) {
        nRounds = nRounds - 1;
        Host host = new Host();
        await swc!play(host);
        await nsc!play(host);
    }
    swc.printSummary();
    nsc.printSummary();
}</code></pre></div>
<p>Running the model produces output similar to the following:</p>
<pre><code>I always switched, won 628 out of 1000 rounds.
I never switched, won 333 out of 1000 rounds.
</code></pre>
<p>As we see, the intuitive expectation about the outcome is not supported by the
simulation!  The composition of simple components with understandable behavior
can indeed lead to observation of surprising behavior, which is the goal of
modeling a system.</p>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jun 23, 2020
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a id="logo" href="https://abs-models.org/" >
  <img src='/images/ABS_logo_colors.png' width="80%">
  </img>
</a>

        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/overview/index.html"><a class="padding" href="/overview/index.html">Overview</a></li>
            <li class="" data-nav-id="/getting_started/index.html"><a class="padding" href="/getting_started/index.html">Getting Started</a><ul id="R-subsections-d1738ab40ac858ee010dd1d061d67a7f" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/documentation/index.html"><a class="padding" href="/documentation/index.html">Documentation</a><ul id="R-subsections-916c6c190c00564c28a689ed3cba8d7e" class="collapsible-menu">
            <li class="parent alwaysopen " data-nav-id="/documentation/examples/index.html"><a class="padding" href="/documentation/examples/index.html">Examples</a><ul id="R-subsections-c16c04532c669b01d8d704b22d9ad761" class="collapsible-menu">
            <li class="active " data-nav-id="/documentation/examples/monty-hall/index.html"><a class="padding" href="/documentation/examples/monty-hall/index.html">The Monty Hall Problem</a></li>
            <li class="" data-nav-id="/documentation/examples/time-and-date/index.html"><a class="padding" href="/documentation/examples/time-and-date/index.html">Modeling and Visualizing Calendar Time</a></li>
            <li class="" data-nav-id="/documentation/examples/gis-modeling/index.html"><a class="padding" href="/documentation/examples/gis-modeling/index.html">Displaying geo-annotated information</a></li>
            <li class="" data-nav-id="/documentation/examples/single-watertank/index.html"><a class="padding" href="/documentation/examples/single-watertank/index.html">Modeling and Visualizing A Water Tank Controller</a></li>
            <li class="" data-nav-id="/documentation/examples/resource-modeling/index.html"><a class="padding" href="/documentation/examples/resource-modeling/index.html">Modeling Resources</a></li>
            <li class="" data-nav-id="/documentation/examples/multicore_memory/index.html"><a class="padding" href="/documentation/examples/multicore_memory/index.html">ABS Model of a Multicore Memory System</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/documentation/tutorials/index.html"><a class="padding" href="/documentation/tutorials/index.html">Tutorials</a><ul id="R-subsections-f3ff0d2b15a01e774f13e6465a310d07" class="collapsible-menu"></ul></li></ul></li>
            <li class="" data-nav-id="/publications/index.html"><a class="padding" href="/publications/index.html">Publications and Workshops</a></li>
            <li class="" data-nav-id="/contact/index.html"><a class="padding" href="/contact/index.html">Contact</a></li>
            <li class="" data-nav-id="/acknowledgments/index.html"><a class="padding" href="/acknowledgments/index.html">Acknowledgments</a></li>
            <li class="" data-nav-id="/laboratory/index.html"><a class="padding" href="/laboratory/index.html">The Collaboratory</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/documentation/examples/monty-hall/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.relearn.changeVariant( this.value );">
                      <option id="R-select-variant-abs" value="abs" selected>Abs</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.relearn.markVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter"><ul class="topics"><li class="dd-item" title="Language Manual"><a href="/manual/">Language Manual</a></li></ul>
<br/>
<p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1741788003" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1741788003" defer></script>
    <script src="/js/js-yaml/js-yaml.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-color.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-drag.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-ease.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-selection.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-timer.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-transition.min.js?1741788003" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1741788003" defer></script>
    <script src="/js/mermaid/mermaid.min.js?1741788003" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="/js/theme.min.js?1741788003" defer></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </body>
</html>
